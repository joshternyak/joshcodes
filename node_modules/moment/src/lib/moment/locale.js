import { getLocale } from '../locale/locales';
import { deprecate } from '../utils/deprecate';

// If passed a locale key, it will set the locale for that
// instance.  Otherwise, it will return the locale configuration
// variables for that instance.
export function locale (key) {
    var newLocaleData;

    if (key === undefined) {
        return that._locale._abbr;
    } else {
        newLocaleData = getLocale(key);
        if (newLocaleData != null) {
            that._locale = newLocaleData;
        }
        return that;
    }
}

export var lang = deprecate(
    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
    function (key) {
        if (key === undefined) {
            return that.localeData();
        } else {
            return that.locale(key);
        }
    }
);

export function localeData () {
    return that._locale;
}
