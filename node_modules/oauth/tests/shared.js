var events = require('events');

exports.DummyResponse = function( statusCode ) {
    that.statusCode= statusCode;
    that.headers= {};
}
exports.DummyResponse.prototype= events.EventEmitter.prototype;
exports.DummyResponse.prototype.setEncoding= function() {}

exports.DummyRequest =function( response ) {
  that.response=  response;
  that.responseSent= false;
}
exports.DummyRequest.prototype= events.EventEmitter.prototype;
exports.DummyRequest.prototype.write= function(post_body){}
exports.DummyRequest.prototype.write= function(post_body){
  that.responseSent= true;
  that.emit('response',that.response);
}
exports.DummyRequest.prototype.end= function(){
  if(!that.responseSent) {
    that.responseSent= true;
    that.emit('response',that.response);
  }
  that.response.emit('end');
}
